$(function () { $(".progress-bar").each(function () { each_bar_width = $(this).attr('aria-valuenow'); $(this).width(each_bar_width + '%') }); $('#accordion').on('shown.bs.collapse', function (event) { var charts = $('#' + event.target.id).data('charts'); if ($('#' + charts[1]).children().length == 0) { plotCI(charts); plotIMO(charts); plotOOG(charts); plotReefer(charts); plotRestow(charts) } }) }); function plotCI(charts) { var div = document.getElementById(charts[0]); var spans = div.getElementsByTagName("span"); var ps = div.getElementsByTagName("p"); CIPlanned = parseFloat(spans[2].innerText); ciAgreed = parseFloat(ps[0].innerText); s1 = [CIPlanned, ciAgreed]; var ticks = ['Planned CI', 'Actual CI']; var plot1 = $.jqplot(charts[1], [s1], { title: 'Crane Intensity', height: 200, width: 200, animate: !$.jqplot.use_excanvas, seriesColors: ['#64B569', '#D14E48'], grid: { gridLineWidth: 1, gridLineColor: 'black', borderWidth: 1, drawBorder: !0, drawGridlines: !0, background: "transparent", shadow: !0 }, seriesDefaults: { renderer: $.jqplot.BarRenderer, pointLabels: { show: !0 }, formatString: "%#.2f", rendererOptions: { fillToZero: !0, varyBarColor: !0, barWidth: 40 } }, axes: { xaxis: { renderer: $.jqplot.CategoryAxisRenderer, numberTicks: 2, ticks: ticks, tickOptions: { textColor: '#000000' } }, yaxis: { ticks: ['0.00', '1.00', '2.00', '3.00', '4.00', '5.00', '6.00', '7.00', '8.00'], min: '0', max: '5', pad: 1.05, tickOptions: { textColor: '#000000', formatString: '%#.2f' } } } }); resizePlot(plot1); $(window).bind('resize', function (event, ui) { resizePlot(plot1) }) }
function plotIMO(charts) { var div = document.getElementById(charts[0]); var spans = div.getElementsByTagName("span"); var IMOUtilisation = parseFloat(spans[12].innerText); var plot1 = $.jqplot(charts[3], [[['Unutilised', 100 - IMOUtilisation], ['Utilised', IMOUtilisation]]], { title: 'IMO', height: 200, width: 200, seriesColors: ['#64B569', '#D14E48'], grid: { drawBorder: !1, drawGridlines: !1, background: "transparent", shadow: !1 }, highlighter: { show: !0, showTooltip: !0, formatString: '%s', tooltipLocation: 'ne', useAxesFormatters: !1 }, seriesDefaults: { renderer: $.jqplot.PieRenderer, trendline: { show: !1 }, formatString: "%#.2f", rendererOptions: { dataLabelThreshold: 100, padding: 8, dataLabelFormatString: '%.2f%%', showDataLabels: !0 } } }); resizePlot(plot1); $(window).bind('resize', function (event, ui) { resizePlot(plot1) }) }
function plotOOG(charts) { var div = document.getElementById(charts[6]); var tgg = div.getElementsByTagName("td"); var OOGUtilisation = parseFloat(tgg[18].innerText); var plot1 = $.jqplot(charts[4], [[['Unutilised', 100 - OOGUtilisation], ['Utilised', OOGUtilisation]]], { title: 'OOG', height: 200, width: 200, seriesColors: ['#64B569', '#D14E48'], grid: { drawBorder: !1, drawGridlines: !1, background: "transparent", shadow: !1 }, highlighter: { show: !0, showTooltip: !0, formatString: '%s', tooltipLocation: 'ne', useAxesFormatters: !1 }, seriesDefaults: { renderer: $.jqplot.PieRenderer, trendline: { show: !1 }, formatString: "%#.2f", rendererOptions: { dataLabelThreshold: 100, padding: 8, dataLabelFormatString: '%.2f%%', showDataLabels: !0 } } }); resizePlot(plot1); $(window).bind('resize', function (event, ui) { resizePlot(plot1) }) }
function plotRestow(charts) { var div = document.getElementById(charts[0]); var spans = div.getElementsByTagName("span"); var RestowPercentage = parseFloat(spans[8].innerText); var plot1 = $.jqplot(charts[2], [[['Unutilised', 100 - RestowPercentage], ['Utilised', RestowPercentage]]], { title: 'Restow', height: 200, width: 200, seriesColors: ['#64B569', '#D14E48'], grid: { drawBorder: !1, drawGridlines: !1, background: "transparent", shadow: !1 }, highlighter: { show: !0, showTooltip: !0, formatString: '%s', tooltipLocation: 'ne', useAxesFormatters: !1 }, seriesDefaults: { renderer: $.jqplot.PieRenderer, trendline: { show: !1 }, formatString: "%#.2f", rendererOptions: { dataLabelThreshold: 100, padding: 8, dataLabelFormatString: '%.2f%%', showDataLabels: !0 } } }); resizePlot(plot1); $(window).bind('resize', function (event, ui) { resizePlot(plot1) }) }
function plotReefer(charts) { var div = document.getElementById(charts[0]); var spans = div.getElementsByTagName("span"); var ReefersUtilisation = parseFloat(spans[10].innerText); var plot1 = $.jqplot(charts[5], [[['Unutilised', 100 - ReefersUtilisation], ['Utilised', ReefersUtilisation]]], { title: 'Reefer', height: 200, width: 200, seriesColors: ['#64B569', '#D14E48'], grid: { drawBorder: !1, drawGridlines: !1, background: "transparent", shadow: !1 }, highlighter: { show: !0, showTooltip: !0, formatString: '%s', tooltipLocation: 'ne', useAxesFormatters: !1 }, seriesDefaults: { renderer: $.jqplot.PieRenderer, trendline: { show: !1 }, formatString: "%#.2f", rendererOptions: { dataLabelThreshold: 100, padding: 8, dataLabelFormatString: '%.2f%%', showDataLabels: !0 } } }); resizePlot(plot1); $(window).bind('resize', function (event, ui) { resizePlot(plot1) }) }
function resizePlot($plot) { var timer; clearTimeout(timer); timer = setTimeout(function () { $($plot.targetId).height($(window).height() * 0.35); $plot.replot({ resetAxes: !0 }) }, 100) }